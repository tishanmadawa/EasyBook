@{
    Layout = "~/Views/Profile/Index.cshtml";
}

@using HotelBook.Models;
@model customerProfile

<div class="col-md-12" style="height:30px;"></div>
<div  class="col-md-12">

    @if (Session["Email"] != null) {
   if (Session["Email"].ToString() == Model.customer.email)
    {
        using (Html.BeginForm("addPost", "Profile", FormMethod.Post, new { @class = "form-horizontal", role = "form" }))
        {
    @Html.AntiForgeryToken()

    <div class="col-md-2" style="height:50px;"> <p>Say something</p></div>
    <div class="col-md-8" style="height:50px;"> <p>@Html.TextBoxFor(m => m.post.title, new { @style = "max-width:500px;min-width:300px;", @class = "form-control", Required = "true" })</p></div>

    <div class="col-md-12" style="height:140px;"> <p>@Html.TextAreaFor(m => m.post.post, new { @class = "form-control", resize = "none", rows = "6", style = "max-width:1100px;min-width:1100;", Required = "true" })</p></div>

    <div class="col-md-11" style="height:70px;"> @Html.HiddenFor(m => m.customer.email) @Html.HiddenFor(m => m.customer.image) @Html.HiddenFor(m => m.customer.name)</div>
    <div class="col-md-1" style="height:70px;"><input type="submit" value="Post" class="btn btn-primary" /></div>

            }
        }
    }
</div>

<div class="col-md-12 ">
    
    
    <table>
       @foreach (var post in Model.posts)
        {
           <tr >
               
                   <div class="panel panel-primary">
                       <div class="panel panel-heading">
                           <h4>@Html.DisplayFor(m => m.customer.name)</h4>
@if (Session["Email"] != null)
{
    if (Session["Email"].ToString() == Model.customer.email)
    {
                           <div class="dropdown" style="float:right;margin-right:10%;">
                               <button class="btn btn-primary dropdown-toggle" type="button" data-toggle="dropdown">
                                  
                                   <span class="caret"></span>
                               </button>
                               <ul class="dropdown-menu">
                                   <li>@Html.ActionLink("delete", "deletePost", "Profile", new
                                  {                                                     // routeValues
                                      blogPostId = @post.id,
                                      customerprofile = @post.customerId

                                  },
null)</li>
                                   
                               </ul>
                           </div>}
}
                           <p>@post.date</p>
                           </div>
                       
                       <div class="panel panel-body">
                           <div class="well">
                           <h4>@post.title</h4>
                               </div>
                           
                               <p>@post.post</p>
                        
                           </div>
                   
                       </div>
             
              
</tr>


        }
        </table>
       


    
        
      
</div>